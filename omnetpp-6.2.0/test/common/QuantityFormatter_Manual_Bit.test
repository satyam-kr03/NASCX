%description:
Test quantity formatter with byte unit.

%includes:

#include "../lib/quantityformattertester.h"

using namespace omnetpp::common;

%activity:

QuantityFormatter quantityFormatter;
auto values = {"0", "1", "7", "8", "9", "79", "80", "81", "799", "800", "801", "999", "1000", "1001", "1023", "1024", "1025", "7999", "8000", "8001", "8191", "8192", "8193", "9999", "10000", "10001", "65535", "65536", "65537", "1024000"};
for (auto value : values)
    testQuantityFormatter(quantityFormatter, value, "b");

for (auto value : values)
    testQuantityFormatter(quantityFormatter, (std::string(value) + ".1").c_str(), "b");

%contains: stdout
0 b                     0.000000000000000000000000 b            0 B               0                 0                 0
1 b                     1.000000000000000000000000 b            1 b               1                 0                 0
7 b                     7.000000000000000000000000 b            7 b               7                 0                 0
8 b                     8.000000000000000000000000 b            1 B               8                 0                 0
9 b                     9.000000000000000000000000 b            9 b               9                 0                 0
79 b                    79.000000000000000000000000 b           79 b              79                0                 0
80 b                    80.000000000000000000000000 b           10 B              80                0                 0
81 b                    81.000000000000000000000000 b           81 b              81                0                 0
799 b                   799.000000000000000000000000 b          799 b             799               0                 0
800 b                   800.000000000000000000000000 b          100 B             800               0                 0
801 b                   801.000000000000000000000000 b          801 b             801               0                 0
999 b                   999.000000000000000000000000 b          999 b             999               0                 0
1000 b                  1000.000000000000000000000000 b         125 B             1000              0                 0
1001 b                  1001.000000000000000000000000 b         1,001 b           1001              0                 0
1023 b                  1023.000000000000000000000000 b         1,023 b           1023              0                 0
1024 b                  1024.000000000000000000000000 b         128 B             1024              0                 0
1025 b                  1025.000000000000000000000000 b         1,025 b           1025              0                 0
7999 b                  7999.000000000000000000000000 b         7,999 b           7999              0                 0
8000 b                  8000.000000000000000000000000 b         1 kB              8000              0                 0
8001 b                  8001.000000000000000000000000 b         8,001 b           8001              0                 0
8191 b                  8191.000000000000000000000000 b         8,191 b           8191              0                 0
8192 b                  8192.000000000000000000000000 b         1 KiB             8192              0                 0
8193 b                  8193.000000000000000000000000 b         8,193 b           8193              0                 0
9999 b                  9999.000000000000000000000000 b         9,999 b           9999              0                 0
10000 b                 10000.000000000000000000000000 b        10 kb             10000             0                 0
10001 b                 10001.000000000000000000000000 b        ~1,250 B          10000             1                 9.999e-05
65535 b                 65535.000000000000000000000000 b        ~8,192 B          65536             -1                1.5259e-05
65536 b                 65536.000000000000000000000000 b        8 KiB             65536             0                 0
65537 b                 65537.000000000000000000000000 b        ~8,192 B          65536             1                 1.52586e-05
1024000 b               1024000.000000000000000000000000 b      128 kB            1.024e+06         0                 0
0.1 b                   0.100000000000000005551115 b            0.012,5 B         0.1               0                 0
1.1 b                   1.100000000000000088817842 b            1.1 b             1.1               0                 0
7.1 b                   7.099999999999999644728632 b            7.1 b             7.1               0                 0
8.1 b                   8.099999999999999644728632 b            ~1.01 B           8.08              0.02              0.00246914
9.1 b                   9.099999999999999644728632 b            ~1.14 B           9.12              -0.02             0.0021978
79.1 b                  79.099999999999994315658114 b           ~9.89 B           79.12             -0.02             0.000252845
80.1 b                  80.099999999999994315658114 b           ~10 B             80                0.1               0.00124844
81.1 b                  81.099999999999994315658114 b           ~10.1 B           80.8              0.3               0.00369914
799.1 b                 799.100000000000022737367544 b          ~99.9 B           799.2             -0.1              0.000125141
800.1 b                 800.100000000000022737367544 b          ~100 B            800               0.1               0.000124984
801.1 b                 801.100000000000022737367544 b          ~100 B            800               1.1               0.00137311
999.1 b                 999.100000000000022737367544 b          ~125 B            1000              -0.9              0.000900811
1000.1 b                1000.100000000000022737367544 b         ~125 B            1000              0.1               9.999e-05
1001.1 b                1001.100000000000022737367544 b         ~125 B            1000              1.1               0.00109879
1023.1 b                1023.100000000000022737367544 b         ~128 B            1024              -0.9              0.000879679
1024.1 b                1024.099999999999909050529823 b         ~128 B            1024              0.1               9.76467e-05
1025.1 b                1025.099999999999909050529823 b         ~128 B            1024              1.1               0.00107307
7999.1 b                7999.100000000000363797880709 b         ~1,000 B          8000              -0.9              0.000112513
8000.1 b                8000.100000000000363797880709 b         ~1,000 B          8000              0.1               1.24998e-05
8001.1 b                8001.100000000000363797880709 b         ~1,000 B          8000              1.1               0.000137481
8191.1 b                8191.100000000000363797880709 b         ~1,024 B          8192              -0.9              0.000109875
8192.1 b                8192.100000000000363797880709 b         ~1,024 B          8192              0.1               1.22069e-05
8193.1 b                8193.100000000000363797880709 b         ~1,024 B          8192              1.1               0.000134259
9999.1 b                9999.100000000000363797880709 b         ~1,250 B          10000             -0.9              9.00081e-05
10000.1 b               10000.100000000000363797880709 b        ~1,250 B          10000             0.1               9.9999e-06
10001.1 b               10001.100000000000363797880709 b        ~1,250 B          10000             1.1               0.000109988
65535.1 b               65535.099999999998544808477163 b        ~8,192 B          65536             -0.9              1.37331e-05
65536.1 b               65536.100000000005820766091347 b        ~8,192 B          65536             0.1               1.52588e-06
65537.1 b               65537.100000000005820766091347 b        ~8,192 B          65536             1.1               1.67844e-05
1024000.1 b             1024000.099999999976716935634613 b      ~128 kB           1.024e+06         0.1               9.76562e-08

%not-contains-regex: stdout
(!!!|nan|inf)
